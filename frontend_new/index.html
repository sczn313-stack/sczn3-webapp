<!-- frontend_new/index.html  (FULL CUT/PASTE REPLACEMENT)
     Purpose:
     - One clean upload/tap page (no duplicate inline scripts)
     - Camera + Photo Library (NO capture attr)
     - IDs match index.js exactly
     - iOS-safe dark base + cache-busted assets
-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="color-scheme" content="dark" />
  <meta name="theme-color" content="#000000" />

  <title>Tap-n-Score™</title>

  <!-- HARD BASE: prevents white/unstyled flash even if CSS fails -->
  <style>
    html,body{margin:0;padding:0;background:#000;color:#fff;font-family:-apple-system,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    a{color:inherit}
  </style>

  <link rel="stylesheet" href="./styles.css?v=20260118f">
</head>

<body>
  <div class="page" style="padding:16px; max-width:720px; margin:0 auto;">
    <div style="opacity:.75; letter-spacing:.12em; font-size:12px;">TAP-N-SCORE™</div>
    <h1 style="margin:8px 0 4px 0;">Upload</h1>
    <div id="statusLine" class="subtle" style="margin-bottom:14px;">Ready. Tap ADD PHOTO.</div>

    <div style="display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-bottom:12px;">
      <!-- BOTH camera + photo library -->
      <label class="btnPrimary" style="display:inline-block; cursor:pointer;">
        Add photo
        <input id="photoInput" type="file" accept="image/*" style="display:none;">
      </label>

      <div style="display:flex; gap:8px; align-items:center;">
        <div class="subtle" style="font-weight:600;">Distance</div>
        <input id="distanceInput" type="number" value="100" min="1" step="1" style="width:110px;">
        <div class="subtle" style="font-weight:600;">yds</div>
      </div>
    </div>

    <div style="display:flex; justify-content:space-between; align-items:center; margin:10px 0 10px 0;">
      <div class="subtle" style="font-size:16px;">Taps: <span id="tapsCount">0</span></div>
      <button id="clearTapsBtn" class="btnSecondary" type="button">Clear taps</button>
    </div>

    <div class="targetBox" style="margin-bottom:14px;">
      <div class="subtle" style="margin-bottom:8px; font-weight:600;">Target</div>

      <!-- TAP AREA (wrapper receives taps; image does not intercept taps) -->
      <div id="targetImageWrap">
        <img id="targetImage" alt="Target preview" />
      </div>

      <div id="emptyHint" class="subtle" style="margin-top:10px;">
        Add a photo, then tap bullet holes.
      </div>
    </div>

    <div class="subtle" style="margin-bottom:6px;">Vendor link (optional)</div>
    <input id="vendorInput" type="url" placeholder="Paste vendor buy link here" style="margin-bottom:12px;">

    <button id="seeResultsBtn" class="btnPrimary" type="button" style="width:100%;">
      See results
    </button>

    <div style="text-align:center; margin-top:18px;" class="subtle">Tap-n-Score™</div>
  </div>

  <!-- Cache-bust scripts -->
  <script src="./api.js?v=20260118f"></script>
  <script src="./index.js?v=20260118f"></script>
</body>
</html>

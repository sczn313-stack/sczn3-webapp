<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Tap-n-Score™ — Upload</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <div class="appFender">
    <div class="wrap">

      <div class="card">
        <div class="kicker">TAP-N-SCORE™</div>
        <div class="title">Upload</div>
        <div class="sub" id="statusText">Ready. Tap ADD PHOTO.</div>

        <!-- One lane controls (no redundancy) -->
        <div class="row">
          <button id="uploadBtn" class="btnPrimary" type="button">Add photo</button>

          <div class="pill">
            <div class="pillLabel">Distance</div>
            <input id="distanceYards" class="pillInput" inputmode="numeric" pattern="[0-9]*" value="100" />
            <div class="pillUnit">yds</div>
          </div>
        </div>

        <div class="row rowTight">
          <div class="meta">
            <div class="metaItem">Taps: <span id="tapsCount">0</span></div>
          </div>
          <button id="clearBtn" class="btnSecondary" type="button">Clear taps</button>
        </div>

        <!-- Tap Stage -->
        <div id="tapBox" class="tapStage">
          <img id="targetImg" alt="Target" />
          <div id="tapLayer" aria-hidden="true"></div>

          <!-- calm overlay hint; only text, no extra buttons -->
          <div id="hintOverlay" class="hintOverlay">
            Add a photo, then tap bullet holes.
          </div>
        </div>

        <!-- Vendor plug (optional) -->
        <div class="vendorRow">
          <div class="vendorLabel">Vendor link (optional)</div>
          <input id="vendorInput" class="vendorInput" placeholder="Paste vendor buy link here" />
          <a id="buyMoreBtn" class="btnGhost" href="#" target="_blank" rel="noopener" style="display:none;">Buy more targets</a>
        </div>

        <div class="row">
          <button id="resultsBtn" class="btnPrimaryWide" type="button">See results</button>
        </div>

        <input id="fileInput" type="file" accept="image/*" capture="environment" style="display:none;" />

        <div class="bottomMark">Tap-n-Score™</div>
      </div>

    </div>
  </div>

  <script src="./index.js"></script>
  <script>
    // show vendor buy button if present
    (function(){
      const VENDOR_BUY = "sczn3_vendor_buy_url";
      const buy = document.getElementById("buyMoreBtn");
      const v = sessionStorage.getItem(VENDOR_BUY);
      if (buy && v){
        buy.href = v;
        buy.style.display = "inline-flex";
      }
    })();
  </script>
</body>
</html>
